<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Struktur Tulisan Poezie Minangkabau</title>
    <style>
        body {
            font-family: 'Inter', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }
        .container {
            background-color: #ffffff;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            max-width: 1200px;
            width: 95%;
            margin: 20px auto;
            text-align: center;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 25px;
        }
        .controls {
            margin-bottom: 20px;
        }
        button {
            background-color: #4a90e2;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            margin: 0 10px;
            font-size: 1.1em;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #357ABD;
        }
        
        /* Tree Diagram Styles */
        .tree {
            text-align: left;
            margin: 20px auto;
            max-width: 800px;
        }
        .tree ul {
            list-style-type: none;
            padding-left: 0; 
            margin: 0;
        }
        .tree li {
            position: relative;
            margin: 10px 0;
        }
        /* Garis vertikal dan horizontal untuk konektor tree */
        .tree li:before {
            content: "";
            position: absolute;
            left: -15px;
            top: 15px; 
            width: 15px;
            height: 1px;
            background-color: #ccc;
        }
        .tree li:after {
            content: "";
            position: absolute;
            left: -15px;
            top: 0;
            width: 1px;
            height: 100%;
            background-color: #ccc;
        }
        .tree li:last-child:after {
            height: 15px;
        }

        .tree .node {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .tree .node:hover {
            background-color: #f0f4f8;
        }
        .tree .node-main {
            font-weight: bold;
            color: #2c3e50;
        }
        .tree .node-root {
            font-weight: bold;
            font-size: 1.2em;
            color: #4a90e2;
            background-color: #f0f4f8;
            padding: 10px 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        .tree .toggle {
            margin-right: 10px;
            color: #4a90e2;
            font-weight: bold;
            width: 20px;
            text-align: center;
            pointer-events: auto; 
            flex-shrink: 0; 
        }
        
        /* Gaya untuk konten yang di-toggle (kutipan dan children) */
        .tree .expandable-content {
            margin-left: 30px; 
            border-left: 1px dashed #ddd; 
            padding-left: 15px; 
            padding-top: 5px; 
        }
        .tree .hidden {
            display: none;
        }

        /* Gaya untuk kutipan */
        .tree .node-quote {
            font-style: italic;
            color: #555;
            margin: 10px 0 10px 0; /* Ubah margin-bottom jadi 10px agar ada spasi ke komentar kritis */
            text-align: justify;
            line-height: 1.6;
            font-size: 0.95em;
        }

        /* Gaya baru untuk komentar kritis */
        .tree .critical-comment {
            color: #d9534f; /* Warna merah */
            font-weight: 500; /* Sedikit lebih tebal */
            margin: 0 0 15px 0; /* Margin atas 0, margin bawah 15px untuk spasi ke sub-node */
            padding-left: 5px; /* Sedikit indentasi dari kutipan */
            border-left: 2px solid #d9534f; /* Garis merah di kiri */
            padding-left: 10px;
            line-height: 1.5;
            font-size: 0.9em;
            text-align: justify;
        }

        /* Pastikan child UL tidak memiliki border-left atau padding-left tambahan */
        .tree .children ul {
            padding-left: 0; 
            border-left: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>"Minangkabausche Poezie" (Seni Bicara Minangkabau) karya J.C. van Eerde: <br> Struktur dan Catatan Kritis</h1>
        
        <div class="controls">
            <button id="expandAll">Serak'an</button>
            <button id="collapseAll">Kamehi</button>
        </div>
        
        <div class="tree" id="diagram">
            </div>
    </div>

    <script>
        // Data struktur diagram
        const diagramData = {
            name: "Struktur Tulisan J.C. van Eerde",
            type: "root",
            // Anda bisa menambahkan kutipan atau komentar kritis di root node juga jika diperlukan
            // quote: "Ini adalah kutipan untuk node root.",
            // criticalComment: "Ini adalah komentar kritis untuk node root."
            children: [
                {
                    name: "Pendahuluan Umum tentang Minangkabau & Bahasa",
                    // Contoh kutipan untuk node yang memiliki children
                    // quote: "TEMPATKAN KUTIPAN UNTUK 'Pendahuluan Umum' DI SINI", 
                    // criticalComment: "TEMPATKAN KOMENTAR KRITIS UNTUK 'Pendahuluan Umum' DI SINI",
                    children: [
                        { 
                            name: "Pengenalan Minangkabau", 
                            quote: "remained quite constant in their old institutions, even in the face of fierce attacks from persons and ideas that were either hostile to these institutions or did not fit within their framework.",
                            criticalComment: "Pernyataan ini bersifat asumtif dan bias. Apa masalahnya sebuah masyarakat mencoba mempertahankan diri dari serangan orang dan gagasan?" 
                        },
                        { 
                            name: "Tantangan terhadap Matriarkat",
                            quote: "Whether these typical social conditions will ultimately be able to withstand such pressures is certainly highly doubtful, and the powerful influences of Mohammedanism and the increasing traffic and contact with other peoples, which have so greatly transformed the original indigenous conditions on other islands, will perhaps one day undermine and cause the collapse of the remarkable edifice of the matriarchate, which this people has preserved to this day with sharp outlines and pure lines.",
                            criticalComment: "Buktinya matariarkat Minangkabau masih bertahan hingga sekarang."
                        },
                        { 
                            name: "Pentingnya Bahasa & Tujuan Penulisan",
                            quote: "Zooals bij alle volken, geeft ook hier de taal eene getrouwe afspiegeling der mate van ontwikkeling en stelt ons tevens in staat een blik te slaan in het karakter en de denkwijze van het volk. In de volgende bladzijden eenige proeven te geven van eene soort van volkspoëzie is het doel van den schrijver, wijl deze uitingen der dichtkunst ons dikwijls verrassen door de juiste omschrijving der ideeën, de poëtische keuze der beelden en de treffende schilderingen, die zij bevatten. (Sebagaimana pada semua bangsa, di sini juga bahasa memberikan cerminan yang setia dari tingkat perkembangan dan sekaligus memungkinkan kita untuk melihat karakter serta cara berpikir masyarakat. Di halaman-halaman berikutnya, tujuan penulis adalah untuk memberikan beberapa contoh dari sejenis puisi rakyat, karena ungkapan-ungkapan seni sastra ini seringkali mengejutkan kita dengan deskripsi ide-ide yang tepat, pilihan citra puitis, dan gambaran yang menyentuh yang dikandungnya)",
                            criticalComment: "Ini adalah asumsi ontologis dan epistemologis dari van Eerde. Dia memosisikan bahasa sebagai pintu masuk ke dalam pikiran dan karakter bangsa lain."
                        }
                    ]
                },
                {
                    name: "Definisi & Konteks \"Poezie\" Minangkabau",
                    quote: "Het geldt hier niet de geschiedverhalen of romantische overleveringen, maar dichterlijke redevoeringen, die met geen ander doel zijn samengesteld en worden gereciteerd, dan om het kunstgenot, dat zij verschaffen aan het publiek, voor hetwelk zij voorgedragen worden en wellicht ook, om dengene, wien ze gelden, aangenaam te zijn door haar vleienden inhoud. Bovendien, de dichterlijke uitingen, waarvan hier sprake is, hebben de bekoring van oorspronkelijk te zijn, opwellingen uit de Minangkabausche harten en kunstenaarsbreinen. (Di sini yang dimaksud bukanlah cerita sejarah atau tradisi romantis, melainkan pidato-pidato puitis, yang disusun dan dilafalkan tanpa tujuan lain kecuali untuk kenikmatan seni yang diberikannya kepada publik, tempat pidato itu disampaikan, dan mungkin juga, untuk menyenangkan orang yang dituju dengan isi sanjungannya. Selain itu, ungkapan-ungkapan puitis yang dibicarakan di sini memiliki daya tarik orisinalitasnya, sebagai luapan dari hati dan pikiran seniman Minangkabau)",
                    criticalComment: "Pernyataan ini berpretensi menggambarkan sesuatu, dalam hal ini pidato adat (sastra lisan) Minangkabau dengan cara apa adanya.",
                    children: [
                        { 
                            name: "Perbedaan \"Poezie\" dari Narasi Romantis",
                            quote: "#",
                            criticalComment: "#"
                        },
                        { 
                            name: "Fungsi & Ciri Khas \"Poezie\"",
                            quote: "#",
                            criticalComment: "#"
                        }
                    ]
                },
                {
                    name: "Deskripsi Peristiwa & Contoh \"Padato\"",
                    quote: "#",
                    criticalComment: "#",
                    children: [
                        { 
                            name: "Setting Acara Pesta",
                            quote: "#",
                            criticalComment: "#"
                        },
                        { 
                            name: "\"Padato\" dari Tuan Rumah",
                            quote: "#",
                            criticalComment: "#"
                        },
                        { 
                            name: "\"Padato\" dari Tamu",
                            quote: "#",
                            criticalComment: "#"
                        }
                    ]
                },
                {
                    name: "Contoh \"Padato\" Deskriptif & Analisis Estetika",
                    quote: "#",
                    criticalComment: "#",
                    children: [
                        { 
                            name: "Deskripsi Halaman Rumah",
                            quote: "Mungko diparhiasilah korong kampuäng ini jo bagai parhiasan, halaman carano basa, rangkiëng mangaki bantiëng, sabuah sibayan bayan, sabuah sitinjau laui, lumbuäng kaciak salo manyalo, makanan dagang rang lalu, cando ukiënyo tak tatènggang salua basaluäk, kaluäk paku kaik bakaik, aka cino kalo tatumpah, dibawahnyo ana garudo ambin, ana rajowali marangkam dahan, morak (merak) mangikië dibubuängan, hilau simbangan diudaro manyemba bayang bayang ukië, gonjong nan dari tanah Bantan, hatok singok halang manari, silang balaju jo pitalah, pèrèng balamba kain kuniëng, tarèh candano kaju aru, tarèh limpato kaju madang, baukië bagamba singo, gambaran singo makan urang, bukan buatan urang siko, buatan Lelo simanjanun. Basa tinaman di halaman, sapuhun danglimo angso, tingginyo manyapu hawan randah manyapu tanah, takalo hiduik bakakalan, takalo nan mati lawan tanah, pucuäknyo samsami mudo, ula bagaluäng diurekmjo, batang dipalui nago sati, sisië amèh radai suaso. Gagangnyo bagai rantai kaliëng, daunnyo bagai kipèh cino, labah bahayun di dahannyo, kalo bagigi dibatangnyo, upa manitih di rantiengnyo, taduäng mangaso di bungonyo, mahukun nuri di puncanyo. Cubadak buayan baruäk, limau manih pautan kudo, bungo maluä pautan ajam, kamuniè'ng sandaran halu, halunyo daliek limau manih, lasuäng tarantang jolong sudah, bujang manari jolong pandai, gadih manumbuäk jolong gadang, barambuih angin timbuäk korong, puti batimang dihaluan, aie manih labuhan tanang, sananglah puyu radai amèh, cando kulari balenggangan, aso aso menyemba buiëh, bada bungo susun basusun, baralun bariak panjang, sajiru'ih buiëh tidak padam, patang patang babayang hijau, kasiek bulannyo bak di karang, batu gadang jujuäng manjujuäng, batu bulek'nyo ba di gèlèng, batu pipihnyo ba dilajang, tabiëng aië siku basiku, anak baringin lirik payuäng, cando kalapo condong condong, cando pinangnyo linggayuran kayu, gadangnyo atua tungku katapieng tumbuäh batujuan, musaji balai batimba medan basa di tangah-tangah, aiënyo tanang galagasan, lubuäknyo tunggang bak ditarah, napanyo balang tulih candai rumpui ganggoaman, muto lauik arunyo randah kaciëk sanan piladang rambayani sabagai rimbang ditabuäkan",
                            criticalComment: "#"
                        },
                        { 
                            name: "Deskripsi Rumah",
                            quote: "Padato mamuji Rumah. Halaman carano basa, batimbun jo kasie bulan, tampek sibuda main tondeh, tampek pandika main padang, tampek nan mulië main catuä, tampek nan péto main kudo. Labuäh panda siku basiku tujuäh liko tujuäh likunyo, tujuäh lampih cando paganyo salampih pudieng aie amèh salampih pudiëng aso aso manyalo pulo anjiluäng malampih pulo anä kuniëng raso katinggi rang papati raso karandah 'rang jojokan, tampek maninjau biduan lalu. Tapakkan kangso balarië, janjang tambago aso aso, rumah gadang talah bagala Si tanggo gadiëng, salanca kudo balari kubin malayang, tiang panjang rajo badiri tiang tiang tangah katumanggungan tiang tapi puti babandiëng pulang mandi, kupangnyo si Maharajo kajo, parannyo si ula gérang kasaunyo bintang tujuan, lahek'nyo pera bahelo pa'atuä péra balapiëh gonjongnyo rabuäng mambaciù tutuaran labah mangirô puncamjo intan sampurono ato'nyo kaco dindiengnyo camin cando ukiënyo ta tatenggang saluä basaluä kaka paku kai bakaik aka cino itié itië babajong mudië sipasan jawek bajawek' batatah jo janang merah basale jo rata hijau balukih jo sadah linggam hilau simbangan diudaro manyemba bajang ukië.",
                            criticalComment: "#"
                        }
                    ]
                },
                {
                    name: "\"Padato\" untuk Acara Khusus: Pernikahan & Analisis Ciri Khas",
                    quote: "#",
                    criticalComment: "#",
                    children: [
                        { 
                            name: "\"Padato\" Pernikahan",
                            quote: "#",
                            criticalComment: "#"
                        },
                        { 
                            name: "Deskripsi Pengantin Pria",
                            quote: "Guntiëng Bugih jarun Mangkasa jahi Bali takat Malako aso lakek s duo tantinyo tasurek' batanti sudah maratuih camin mangaki, maribu camin ninggangan tiô pisa bacamin gadang, camin kacie'nyó bakilapan camin gadangnyo bagendengan bungu sitabanyo bahèrèngan dama tiribnyo bajuntajan, tio pucuä barisi intan, pucuä rabuängnyo bacancangan, intan jo podi bagendengan pamato banya nan lalu. Inda buliah di randang maco; Kalau di randang pahik pahi; Tida buliëh di panjang nyato; Kalau di pandang bajarahi.  Tanunan Sari manggewang, lukih sudab tukang babunuäh, tida buliëh di tiru lai, bai'tulah kabasaran sarawa marapulai nangko",
                            criticalComment: "#"
                        },
                        { 
                            name: "Deskripsi Pengantin Wanita",
                            quote: "#",
                            criticalComment: "#"
                        }
                    ]
                },
                {
                    name: "Analisis Seni & Estetika \"Poezie\" Minangkabau",
                    quote: "#",
                    criticalComment: "#",
                    children: [
                        { 
                            name: "Kesenangan & Tantangan Pemahaman",
                            quote: "Sebagaimana telah dikatakan di atas, mendengarkan pembacaan padato ini merupakan kenikmatan bagi penduduk asli, dan sudah sewajarnya, bagi kita, orang Belanda, sebagian besar pesona yang diberikan padato tersebut akan hilang, terutama karena kita hanya dapat menempatkan diri secara artifisial dan mendekati dalam pemikiran orang Melayu. Selain itu, saat mendengarkan, kita secara tidak sengaja terpaksa menerjemahkannya ke dalam bahasa ibu kita, dan tidak perlu dikatakan lagi bahwa, ketika kita mencoba melukis ulang adegan Oriental yang disajikan oleh pembicara dengan warna-warna Eropa kita, sebagian besar warna lokalnya akan hilang. Hal ini juga berlaku untuk terjemahan yang diberikan. Saat dituangkan ke dalam cangkir Eropa, minuman India (inlander) kehilangan aromanya",
                            criticalComment: "van Eerde sadar bahwa penerjemahan tidak bisa sempurna. Dia sadar bahwa keindahan yang dinikmati penduduk asli tidak bisa dirasakan sepenuhnya oleh orang Eropa. Tapi masalahnya adalah dia tetap ngotot melukiskan keindahan itu dengan cara Eropa.",
                        },
                        { 
                            name: "Unsur Keindahan Suara & Rima",
                            quote: "#",
                            criticalComment: "#"
                        },
                        { 
                            name: "Keberadaan Sajak Bebas",
                            quote: "T#",
                            criticalComment: "#"
                        },
                        { 
                            name: "Ciri Khas Seniman & Audiens",
                            quote: "Pertama-tama harus ditegaskan, bahwa penceramah harus menampilkan diri dengan sangat bersahaja, bahkan rendah hati; ia harus berhati-hati untuk tidak membuat gerak-gerik yang mencolok atau berbicara terlalu keras. Dengan kepala tertunduk di atas rabana, berbicara pelan di dalam mulut, sehingga deklamasi bagi kami, orang Eropa, terasa hambar dan tidak jarang tidak jelas, ia menyampaikan penghormatannya, dan dengan demikian menunjukkan tata kramanya yang baik. Kerendahan hati, 'merendahkan diri' (marandahkan diri), adalah syarat pertama bagi siapa pun di dunia Minangkabau yang ingin mengklaim kesantunan, baik bagi yang berkedudukan tinggi maupun mereka yang tampil di depan umum, seperti tukang padato. Ini adalah konsekuensi dari hukum kepatutan, yang membuat awal padato terasa monoton, di mana pembicara berulang kali meminta 'seribu kali maaf' atas kemungkinan kesalahan dalam pemilihan kata atau tingkah laku dan menyebut dirinya 'tidak tahu' dan 'masih anak kecil'. Namun selain ini, isi padato juga menunjukkan ciri karakter lain, yaitu kepekaan terhadap pujian, bahkan ketika pujian itu dilebih-lebihkan dan berubah menjadi sanjungan; sebagaimana kesopanan alami pada sebagian besar bangsa Timur, meskipun mereka masih berada pada tingkat peradaban yang relatif rendah, menyenangkan orang Barat, di sana ia tetap memperoleh karakter kekanak-kanakan, ketika kita mengamati betapa berlebihan sanjungan itu seringkali. Hal itu terlihat dari semua padato dari awal hingga akhir dan tampaknya tidak perlu lagi menunjuk pada beberapa bagian.",
                            criticalComment: "Pernyataan van Eerde 'zelfs al staan zij nog op een betrekkelijk lagen trap van beschaving, Westerlingen aangenaam aandoet' (meskipun mereka masih berada pada tingkat peradaban yang relatif rendah, tapi pidato ini tetap menyenangkan orang Barat), menunjukkan bahwa dia menganggap dirinya lebih tinggi dari orang Minangkabau. Dia tidak menyadari bahwa dia sedang memandang rendah mereka. van Eerde benar-benar mamantek",
                        },
                        { 
                            name: "Konsep Keindahan Minangkabau",
                            quote: "Konsep-konsep 'keindahan' dan 'rasa keindahan' kita adalah gagasan-gagasan yang tidak dikenal oleh penduduk asli. Oleh karena itu, ia seringkali terheran-heran ketika kita menyatakan kekaguman kita pada pemandangan alam liar atau danau gunung yang disinari bulan. Agar menjadi indah, suatu objek, apa pun itu, harus memenuhi syarat-syarat lain. Manusia alamiah selalu harus mengaitkan konsep 'indah' dengan yang lain. Hal-hal biasa sehari-hari, misalnya, matahari terbit, danau gunung biru, terlalu biasa untuk menjadi indah. Konsep-konsep yang harus dihubungkan dengan ide 'indah', jika ingin membuat kesan pada hati penduduk asli, bisa bervariasi; kita menyebutnya: berguna, ajaib (wonderdoend), aneh, memuaskan nafsu, sulit dijelaskan, dll. Seni, yang kita sebut seni ideal, tidak menempati tempat tersendiri dalam daya pikirnya, melainkan selalu dikombinasikan dengan ide-ide lain. Ini memerlukan penjelasan lebih lanjut. Pertama-tama, kita ingin menunjukkan fakta bahwa penyair sangat cepat beralih untuk menggambarkan ular bersayap, kalajengking, ikan bersirip emas, kaki seribu, dll., bahkan di tempat-tempat yang menurut kita sangat tidak pantas, misalnya pada pohon yang berdiri di halaman depan rumah. Tidak terpikir olehnya untuk melukiskan garis indah yang dibuat oleh mahkota pohon, atau hijau gelap daun-daun, atau kayu kuning yang indah dan bunga putih harum dari kamuniëng; tidak, agar 'indah', atau lebih tepatnya, agar membuat kesan pada pikiran kita, monster-monster supernatural yang tak terlihat itu harus ada sebagai ilustrasi. ",
                            criticalComment: "van Eerde dengan sadar menilai Minangkabau dengan standar estetika Eropa. Dia menganggap bahwa konsep 'keindahan' yang diajarkan di Eropa adalah satu-satunya yang benar. Dia tidak menyadari bahwa orang Minangkabau memiliki konsep keindahan mereka sendiri yang berbeda.",
                        },
                        { 
                            name: "Karakteristik Seni Ukir & Benda",
                            quote: "#",
                            criticalComment: "#"
                        }
                    ]
                },
                {
                    name: "Kesimpulan",
                    quote: "Om het simpele schoone te leeren genieten moet men behooren tot een geslacht, dat de moeilijke ladder der beschaving heeft beklommen, dat telken male is teruggestort in onwetendheid en afgoderij en dat eindelijk heeft ingezien, dat de adoratie van het schoone, omdat het schoon is, en van het ware en het goede, de eenige bevredigende philosophie is. (Untuk dapat menikmati keindahan yang sederhana, seseorang haruslah termasuk dalam generasi yang telah mendaki tangga peradaban yang sulit, yang berkali-kali terjerembab kembali ke dalam ketidaktahuan dan penyembahan berhala, dan yang akhirnya menyadari bahwa pemujaan akan keindahan, karena ia indah, dan akan kebenaran dan kebaikan, adalah satu-satunya filsafat yang memuaskan.)",
                    criticalComment: "van Eerde memandang tingkat perkembangan peradaban Minangkabau sebagaimana yang dia amati dalam pidato adat masih tertinggal. Minangkabau butuh jatuh bangun dulu untuk sampai pada peradaban dengan filsafat, termasuk filsafat estetika, yang dipakai di Eropa.",
                    children: [
                        { 
                            name: "Kontribusi \"Padato\"",
                            quote: "Zoo kunnen ook de padato's het hunne bijdragen om een tipje van den sluier, die het inlandsche gemoed bedekt, op te lichten, omdat zij uitingen zijn van het volk; niet vervormde uitheemsche producten, maar voortgekomen direct uit de hoofden en harten der individuen, onder welke zij in zwang zijn. Doch behalve dat, leveren zij eene proeve van kinderlijke naiëve poëzie, die, als alles wat kinderlijk is, eene bekoring heeft en voor zich inneemt door de oprechtheid der bewonderende uitingen eener kinderziel. (Dengan demikian, padato-padato tadi dapat membantu membuka tabir yang menutupi pikiran orang pribumi (minangkabau), karena padato-padato tersebut adalah ungkapan dari hati dan pikiran mereka. Padato itu bukan produk luar yang telah tercemar unsur lain. Namun lebih dari itu, padato juga adalah contoh dari  puisi naif yang kekanak-kanakan. Seperti halnya segala yang bersifat kekanaka-kanakan, padato  juga memiliki daya pesona dan bikin gemes karena kejujuran dan kepolosannya ketika mengungkapkan pikiran polosnya saat mengagumi sesuatu.",
                            criticalComment: "Tidak terbayangkan di zaman sekarang seseorang bisa menilai masyarakat lain sebagai masyarakat yang masih kekanak-kanakan. van Eerde menganggap bahwa orang Minangkabau masih kekanak-kanakan, sehingga mereka belum bisa menikmati keindahan yang sederhana.",
                        },
                        { 
                            name: "Apresiasi & Penutup",
                            quote: "C'est une poignée de pierres précieuses, que nous prenons au hasard et à la hate dans la grande mine d'Orient,  (Ini adalah sekumpulan permata yang kita ambil secara acak dan terburu-buru dari tambang besar di Timur)",
                            criticalComment: "Victor Hugo adalah sastrawan besar Prancis, tapi dia juga orientalis tulen. Dia memandang timur sebagai tambang, dan dengan seenaknya memungut intan secara acak dari situ untuk kesenangan bangsa Eropa"
                        }
                    ]
                }
            ]
        };

        // Fungsi untuk membuat elemen tree node
        function createTreeNode(nodeData, parentElement) {
            const li = document.createElement("li");
            const nodeDiv = document.createElement("div");
            nodeDiv.className = `node ${nodeData.type === "root" ? "node-root" : "node-main"}`;
            
            // Container untuk konten yang bisa di-toggle (kutipan, komentar kritis, dan children)
            const expandableContent = document.createElement("div");
            expandableContent.className = "expandable-content hidden"; // Awalnya sembunyikan

            // 1. Tambahkan tombol toggle jika node memiliki children, quote, ATAU criticalComment
            if ((nodeData.children && nodeData.children.length > 0) || nodeData.quote || nodeData.criticalComment) {
                const toggle = document.createElement("span");
                toggle.className = "toggle";
                toggle.textContent = "+";
                toggle.addEventListener("click", function(e) {
                    e.stopPropagation();
                    toggleNode(this);
                });
                nodeDiv.appendChild(toggle);
            }
            
            // 2. Tambahkan teks node (nama)
            const nodeText = document.createElement("span");
            nodeText.textContent = nodeData.name;
            nodeDiv.appendChild(nodeText);
            
            // Event listener untuk nodeDiv (untuk klik pada teks node)
            nodeDiv.addEventListener("click", function(e) {
                // Toggle node jika mengklik nodeDiv itu sendiri (bukan tombol toggle)
                // dan jika node ini memiliki konten yang bisa di-toggle (children, quote, atau criticalComment)
                if ((nodeData.children && nodeData.children.length > 0) || nodeData.quote || nodeData.criticalComment) {
                    const toggle = this.querySelector(".toggle");
                    if (toggle && e.target !== toggle) { 
                        toggleNode(toggle);
                    }
                }
            });
            
            li.appendChild(nodeDiv); // Tambahkan nodeDiv ke li

            // 3. Tambahkan kutipan jika ada
            if (nodeData.quote) {
                const quoteParagraph = document.createElement("p");
                quoteParagraph.className = "node-quote"; 
                quoteParagraph.textContent = nodeData.quote;
                expandableContent.appendChild(quoteParagraph); 
            }

            // 4. Tambahkan komentar kritis jika ada
            if (nodeData.criticalComment) {
                const commentParagraph = document.createElement("p");
                commentParagraph.className = "critical-comment"; 
                commentParagraph.textContent = nodeData.criticalComment;
                expandableContent.appendChild(commentParagraph); 
            }

            // 5. Tambahkan children jika ada
            if (nodeData.children && nodeData.children.length > 0) {
                const childrenUl = document.createElement("ul");
                childrenUl.className = "children"; 
                
                nodeData.children.forEach(child => {
                    createTreeNode(child, childrenUl);
                });
                
                expandableContent.appendChild(childrenUl); 
            }

            // Hanya tambahkan expandableContent ke li jika ada quote ATAU criticalComment ATAU children
            if ((nodeData.children && nodeData.children.length > 0) || nodeData.quote || nodeData.criticalComment) {
                li.appendChild(expandableContent); 
            }
            
            parentElement.appendChild(li);
        }

        // Fungsi untuk toggle node individual
        function toggleNode(toggleElement) {
            const expandableContent = toggleElement.parentElement.nextElementSibling; 

            if (expandableContent && expandableContent.classList.contains("expandable-content")) {
                if (expandableContent.classList.contains("hidden")) {
                    expandableContent.classList.remove("hidden");
                    toggleElement.textContent = "-";
                } else {
                    expandableContent.classList.add("hidden");
                    toggleElement.textContent = "+";
                }
            }
        }

        // Fungsi untuk expand all nodes
        function expandAllNodes() {
            document.querySelectorAll(".expandable-content").forEach(content => {
                content.classList.remove("hidden");
            });
            document.querySelectorAll(".toggle").forEach(toggle => {
                toggle.textContent = "-";
            });
        }

        // Fungsi untuk collapse all nodes
        function collapseAllNodes() {
            document.querySelectorAll(".expandable-content").forEach(content => {
                content.classList.add("hidden");
            });
            document.querySelectorAll(".toggle").forEach(toggle => {
                toggle.textContent = "+";
            });
        }

        // Inisialisasi diagram
        function initDiagram() {
            const diagramContainer = document.getElementById("diagram");
            const ul = document.createElement("ul");
            createTreeNode(diagramData, ul);
            diagramContainer.appendChild(ul);
            
            // Set awal ke collapsed state
            collapseAllNodes();
        }

        // Event listeners untuk tombol
        document.getElementById("expandAll").addEventListener("click", expandAllNodes);
        document.getElementById("collapseAll").addEventListener("click", collapseAllNodes);

        // Jalankan saat halaman dimuat
        window.addEventListener("DOMContentLoaded", initDiagram);
    </script>
</body>
</html>